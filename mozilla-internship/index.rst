
.. Mozilla Socorro slides file, created by
   hieroglyph-quickstart on Thu Sep  4 15:09:10 2014.


Who Am I?
=========


.. figure:: /_static/benny_the_beaver.gif
    :height: 8 em
    :width: 8 em
    :class: center-aligned
    :alt: http://content.sportslogos.net/logos/33/798/full/7hp60p8pey24f17y7da86g4en.gif


.. figure:: /_static/osuosl.png
    :class: center-aligned
    :width: 12 em
    :height: 6 em
    :alt: http://osuosl.org/sites/default/files/osllogo-web_0.png


.. note::

    * Senior at Oregon State University studying Applied Computer Science
    * Student System Administrator and Software Developer at Oregon State
        University Open Source Lab


What is Socorro?
================

.. figure:: /_static/socorro_logo.png
    :class: right-aligned

Socorro : /soˈko.ro/ : noun

    A distributed system for collecting, processing, and
    analyzing crash reports generated by the Breakpad library.

    Named after the Very Long Baseline Array (VLBA) near Socorro, New
    Mexico, USA.

.. figure:: /_static/vla.jpg
    :height: 13em
    :width: 17em
    :class: center-aligned
    :alt: https://www.flickr.com/photos/caveman_92223/4750606873

.. nextslide::

.. figure:: /_static/breakpad.png
    :class: center-aligned
    :height: 20em
    :alt: http://google-breakpad.googlecode.com/svn/wiki/breakpad.png


.. slide:: "Internship Goal: Fix The Build System"
    :class: segue large-print


"What would you say...you do here?"
===================================

.. rst-class:: build

1. Cleaning up the Build System
2. Transitioning to Travis-CI
3. Creating Native System Packages

.. note::

    My internship can be broken down into 3 distinct parts. The first is
    that I cleaned up the build system to remove unneeded dependencies
    and reduce duplicate build steps. This cut the build time in half.

    The second is supplementing the build system with Travis-CI. This
    allowed for multiple pull requests to be tested at once and reduced
    the turn around time for merging changes.

    Finally I created native system packages for easy installation and
    deployments of Socorro.

Reducing The Build Time
=======================

.. rst-class:: build

* Cut the build time from 20 minutes to 10 minutes.

* Saving an approximate total of 1 week a month.

.. note::
    20 minutes ➜ 10 minutes = 10 minutes per build
    10 minutes × 216 builds a month = 2150 minutes a month
    2150 minutes ÷ 60 minutes an hour = 35.8333 hours

.. nextslide::
    :increment:

* Ensured the socorro-virtualenv was deleted, but not pip-cache.

.. nextslide::
    :increment:

* Removed build redundancies: Abusing Make.

::

    # scripts/build.sh
    make clean
    make test
    make analysis
    ...

::

    # makefile
    analysis: bootstrap
       ...

    test: bootstrap
       ...


Transitioning to Travis-CI
==========================

* Adds parallelism to builds

  * Current PRs lock builds on Jenkins. Only one PR ran at a time.

.. nextslide::

* Equivalent build time without reliance on internal Infra

  * All services are run locally on the Travis VMs.

.. nextslide::

* Only allowed Ubuntu on Travis, which is divergent from our RHEL
  deploy.

* Can ship off packages.

* Caching dependencies cost extra

.. note::

    Transitioning to Travis-CI provided several benefits. The major one
    being parallel builds.

Creating Native Packages
========================

  * FPM super easy to use.

  * Now have RPMs

  * deploy.sh -> pre/post-install


Conclusion
==========


Special Thanks
==============

  * Lonnen (mentor)
  * Laura (manager)
  * Jill & Misty (intern-herders)
  * Department of Whimsy (rainbow unicorns)

.. note::

    Lonnen - For mentoring me and putting up with my blabbering for 3 months.
    Laura - For seeing my potential and hiring me.
