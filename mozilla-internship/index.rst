
.. Mozilla Socorro slides file, created by
   hieroglyph-quickstart on Thu Sep  4 15:09:10 2014.


Who Am I?
=========


.. figure:: /_static/benny_the_beaver.gif
    :height: 8 em
    :width: 8 em
    :class: center-aligned
    :alt: http://content.sportslogos.net/logos/33/798/full/7hp60p8pey24f17y7da86g4en.gif


.. figure:: /_static/osuosl.png
    :class: center-aligned
    :width: 12 em
    :height: 6 em
    :alt: http://osuosl.org/sites/default/files/osllogo-web_0.png


.. note::

    * Senior at Oregon State University studying Applied Computer Science
    * Student System Administrator and Software Developer at Oregon State
        University Open Source Lab


What is Socorro?
================

.. figure:: /_static/socorro_logo.png
    :class: right-aligned

Socorro : /soËˆko.ro/ : noun

    A distributed system for collecting, processing, and
    analyzing crash reports generated by the Breakpad library.

    Named after the Very Long Baseline Array (VLBA) near Socorro, New
    Mexico, USA.

.. figure:: /_static/vla.jpg
    :height: 13em
    :width: 17em
    :class: center-aligned
    :alt: https://www.flickr.com/photos/caveman_92223/4750606873

.. nextslide::

.. figure:: /_static/breakpad.png
    :class: center-aligned
    :height: 20em
    :alt: http://google-breakpad.googlecode.com/svn/wiki/breakpad.png


.. slide:: "Hypothetically Speaking..."
    :class: segue large-print

    .. note::

        I remember the converstation I had with my mentor Lonnen before I
        got this internship. He suggested fixing the build system as a
        project. "Hypothetically speaking, if you were given a pile of Make
        and bash, and had to figure out what was going wrong, what would you
        do?"

        "I would run screaming away..."

        "No, but seriously Trevor, this is my LIFE!"

        So I was brought in to fix up the build system.


"What would you say...you do here?"
===================================

.. rst-class:: build

1. Cleaning up the Build System
2. Transitioning to Travis-CI
3. Creating Native System Packages

.. note::

    My internship can be broken down into 3 distinct parts. The first is
    that I cleaned up the build system to remove unneeded dependencies
    and reduce duplicate runs. In the process this cut the build time in
    half.

    The second is supplementing the build system with Travis-CI. This
    allowed for multiple pull requests to be tested at once and reduced
    the turn around time for merging changes.

    Finally I created native system packages for easy installation and
    deployments of Socorro.

Reducing The Build Time
=======================

* From 20 minutes down to 10 minutes
* 10 minutes * average 215 builds a month = 2150 minutes saved a month
* 2150/60 ~= 35.8333 hours ~= 1 week of work

.. nextslide::

* Caching on Jenkins

  * pip-cache

* Redundancies in Build

  * make -> bash -> make -> bash
  * immediate: bootstrap
  * found later: Django compression (webapp-django bootstrap)



Transitioning to Travis-CI
==========================

* Adds parallelism to builds

  * Current PRs lock builds on Jenkins. Only one PR ran at a time.

.. nextslide::

* Equivalent build time without reliance on internal Infra

  * All services are run locally on the Travis VMs.

.. nextslide::

* Only allowed Ubuntu on Travis, which is divergent from our RHEL
  deploy.

* Can ship off packages.

* Caching dependencies cost extra


Creating Native Packages
========================

  * FPM super easy to use.

  * Now have RPMs

  * deploy.sh -> pre/post-install


Conclusion
==========


Special Thanks
==============

  * Lonnen (mentor)
  * Laura (manager)
  * Jill & Misty (intern-herders)
  * Department of Whimsy (rainbow unicorns)

.. note::

    Lonnen - For mentoring me and putting up with my blabbering for 3 months.
    Laura - For seeing my potentials and hiring me.
